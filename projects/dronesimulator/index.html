<!doctype html><html><head><title></title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><meta property="og:title" content><meta property="og:description" content="Drone Simulator Orignally the project started out as a drone and physics simulator in Python. I started by simulating various aspects of a quadcopter, such as how an input voltage would drive the propellers, creating a thrust and torque, which would be applied to the quadcopter. To perform the simulation, I also had to write a physics simulation, building an update loop, gravity and ground collisions, alongside a visualisation and user interface."><meta property="og:type" content="article"><meta property="og:url" content="http://jiahe.dev/projects/dronesimulator/"><meta property="article:section" content="projects"><meta name=description content><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/projects/single.css><link rel=stylesheet href=/css/style.css><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYP6PRXS0T"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QYP6PRXS0T",{anonymize_ip:!1})}</script></head><body><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/>My Technical portfolio</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div></nav><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class=page-content><div class=title><h1></h1></div><div class=post-content id=post-content><h1 id=drone-simulator>Drone Simulator</h1><p>Orignally the project started out as a drone and physics simulator in Python. I started by simulating various aspects of a quadcopter, such as how an input voltage would drive the propellers, creating a thrust and torque, which would be applied to the quadcopter. To perform the simulation, I also had to write a physics simulation, building an update loop, gravity and ground collisions, alongside a visualisation and user interface. As I was tuning the altitude hold controller, I took a break and decided to make the switch to Unity.</p><p><img src=%5Cassets%5Cimages%5Cdronesimulator%5CQuadcopterPython.png alt=Python></p><p>The visualization and user interface were extremely crude in python, and was only implemented in the xy-plane. As I wanted to focus more on the dynamics and control systems behind the drone, I decided it would be best to switch to a solution with a pre-built physics and rending engine. I also had plans to learn Unity and its scripting language C#, so I decided it would be a good opportunity to do so.</p><p><img src=%5Cassets%5Cimages%5Cdronesimulator%5CQuadcopterUnity.png alt=Unity></p><p>It was slow going as I learnt the ropes of Unity, its objects and properties, as picking up the syntax of C#, which made me appreciate the numerical libraries and the understanding I had of the simulation I had built in Python. Eventually though, I managed to model the individual rotors and how an input from the controller would cause a net force and torque to be generated on the quadcopter. It was at this point that I really began to see the advantages of a 3rd party solution such as Unity.</p><p>The simulation broke down the drone into its various components, such as the rotors, main body, flight controller and sensors. The rotors generated a force and a torque based on its speed, determined by its intrinsic parameters as well as the throttle input from the flight controller. The flight controller supports mutltiple flight modes, which translate input controls into throttle commands. It includes a stabilized flight mode, which uses sensor data and PID controllers to adjust the throttles automatically based on the motor mixing algorithm. Each sensor has its own module, which simulates how the actual sensor works and returns measurements similar to the real sensor. The flight controller can choose which sensors to use and process them such as using an IMU to combine gyroscope and accelerometer readings to find the position and orientation of the body (on which the sensors are mounted). This can be combined with the altimeter data to get a better estimate of the height.</p><h3 id=back-to-home><a href=/>Back to Home</a></h3></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=http://jiahe.dev/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=http://jiahe.dev/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=http://jiahe.dev/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=http://jiahe.dev/#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=http://jiahe.dev/#projects>Projects</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>yi.jiahe00@gmail.com</span></li></ul></div><div class="col-md-4 col-sm-12"><p>Stay up to date with email notification</p><form method=post action=https://blogtrottr.com><div class=form-group><input type=email class=form-control name=btr_email placeholder="Enter email"><br><input type=hidden name=btr_url value=http://jiahe.dev/index.xml>
<input type=hidden name=schedule_type value=1>
<small id=emailHelp class="form-text text-muted">By entering your email address, you agree to receive the newsletter of this website.</small>
<button type=submit class="btn btn-info"> Submit</button></form></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">Â© 2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script></body></html>